{"path":"/stryker/src/stryker-cli.js","content":"\"use strict\";\r\nvar program = require('commander');\r\nvar ConfigReader_1 = require('./ConfigReader');\r\nvar Stryker_1 = require('./Stryker');\r\nvar log4js = require('log4js');\r\nvar log = log4js.getLogger('stryker-cli');\r\nfunction list(val) {\r\n    return val.split(',');\r\n}\r\nprogram\r\n    .usage('-f <files> -m <filesToMutate> -c <configFileLocation> [other options]')\r\n    .description('Starts the stryker mutation testing process. Required arguments are --mutate, --files, --testFramework and --testRunner. You can use globbing expressions to target multiple files. See https://github.com/isaacs/node-glob#glob-primer for more information about the globbing syntax.')\r\n    .option('-m, --mutate <filesToMutate>', \"A comma seperated list of globbing expression used for selecting the files that should be mutated.\\n                              Example: src/**/*.js,a.js\", list)\r\n    .option('-f, --files <allFiles>', \"A comma seperated list of globbing expression used for selecting all files needed to run the tests. These include library files, test files and files to mutate, but should NOT include test framework files (for example jasmine).\\n                              Example: node_modules/a-lib/**/*.js,src/**/*.js,a.js,test/**/*.js\", list)\r\n    .option('--testFramework <name>', \"The name of the test framework you want to use\")\r\n    .option('--testRunner <name>', \"The name of the test runner you want to use\")\r\n    .option('--testSelector <name>', \"The name of the test selector you want to use\")\r\n    .option('-c, --configFile <configFileLocation>', 'A location to a config file. That file should export a function which accepts a \"config\" object\\n' +\r\n    ConfigReader_1.CONFIG_SYNTAX_HELP)\r\n    .option('--logLevel <level>', 'Set the log4js loglevel. Possible values: fatal, error, warn, info, debug, trace, all and off. Default is \"info\"')\r\n    .parse(process.argv);\r\nlog4js.setGlobalLogLevel(program['logLevel'] || 'info');\r\ndelete program.options;\r\ndelete program.rawArgs;\r\ndelete program.args;\r\ndelete program.commands;\r\nfor (var i in program) {\r\n    if (i.charAt(0) === '_') {\r\n        delete program[i];\r\n    }\r\n}\r\nnew Stryker_1.default(program).runMutationTest()\r\n    .catch(function (err) { return log.error(\"an error occurred\", err); });\r\n//# sourceMappingURL=stryker-cli.js.map"}